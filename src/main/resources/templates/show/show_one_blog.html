<!DOCTYPE html>
<html lang="zh" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link th:href="@{/bootstrap/css/bootstrap.min.css}" href="../../static/bootstrap/css/bootstrap.min.css" rel="stylesheet"/>
    <link th:href="@{/bootstrap/css/dash-board.css}" href="../../static/bootstrap/css/dash-board.css" rel="stylesheet"/>
    <link th:href="@{/bootstrap/css/site-min.css}" href="../../static/bootstrap/css/site-min.css" rel="stylesheet"/>
    <script th:src="@{/bootstrap/script/jquery-3.4.1.min.js}" src="../../static/bootstrap/script/jquery-3.4.1.min.js"></script>
    <script th:src="@{/bootstrap/js/bootstrap.min.js}" src="../../static/bootstrap/js/bootstrap.min.js"></script>
    <script th:src="@{/editor/lib/marked.min.js}" src="../../static/editor/lib/marked.min.js"></script>
    <script th:src="@{/editor/lib/prettify.min.js}" src="../../static/editor/lib/prettify.min.js"></script>
    <script th:src="@{/editor/editormd.min.js}" src="../../static/editor/editormd.min.js"></script>
    <link th:href="@{/editor/css/editormd.css}" rel="stylesheet" href="../../static/editor/css/editormd.css" />
    <link th:href="@{/editor/css/editormd.preview.min.css}" rel="stylesheet" href="../../static/editor/css/editormd.preview.min.css" />
    <script>
    </script>
</head>
<body style="padding-top: 60px">
<nav th:replace="fragments/page_header :: page_header"></nav>
<div class="container-fluid">
            <div class="col-md-9" style="background-color: transparent;">
                <!-- 因为我们使用了dark主题，所以在容器div上加上dark的主题类，实现我们自定义的代码样式 -->
                <h1 th:text="'《' +${blog_info.getBlogTitle()} + '》'"></h1>
                <div id="testEditorMdview" class="content editormd-preview-container">
                    <textarea id="appendTest" style="display: none" th:text="${blog_info.getBlogContent()}"></textarea>
                </div>
            </div>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        var hei = document.body.scrollHeight;
        //监听网页滚动
        // $(window).scroll(function () {
        //     console.log("clientHeight" + document.documentElement.clientHeight);
        //     var oTop = document.body.scrollTop == 0?document.documentElement.scrollTop:document.body.scrollTop;//偏移量
        //     console.log("oTop"+oTop);
        //     console.log("网页正文 " + hei)
        //     var mydiv = document.getElementById("mydiv");
        //     console.log(mydiv != null);
        //     mydiv.style.marginTop = oTop - 400 + "px";
        //     if(oTop == 0){
        //         mydiv.style.paddingTop = 0 + "px";
        //     }
        // })
    });

    //转换开始,第一个参数是上面的div的id
    editormd.markdownToHTML("testEditorMdview", {
        htmlDecode: "style,script,iframe", //可以过滤标签解码
        emoji: true,
        taskList:true,
        tex: true,               // 默认不解析
        flowChart:true,         // 默认不解析
        sequenceDiagram:true,  // 默认不解析
        toc: true,
        tocTitle: "文章目录",
        tocContainer: $("#mytoc")
    });
</script>
</body>
</html>